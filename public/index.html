<!DOCTYPE html>
<html lang="en">
<head>
   <!-- Vsbook 2019/6/20 -->
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <!--简体中文  -->
   <!-- <meta http-equiv="content-type" content="text/html; charset=gb2312"> --> 
   <!-- 繁体中文 / 英 语--->
   <!-- <meta http-equiv="content-type" content="text/html; charset=utf-8"> -->
   <!-- 自动跳转 -->
   <!-- <meta http-equiv="Refresh" content="3;URL=http：//www.xxxx.com">  -->
   <!-- 禁止浏览器从本地机的缓存中调阅页面内容。  -->
   <!-- <meta http-equiv="Pragma" content="no-cache"> -->
   <!-- 网页不会被缓存  -->
   <!--
     <meta http-equiv="pragma" content="no-cache"> 
     <meta http-equiv="Cache-Control" content="no-cache, must-revalidate"> 
     <meta http-equiv="expires" content="0">  -->
   <!-- 网页制作者信息 -->
   <meta name="author" content="www.song_web@sina.com">  
   <!-- 网站简介 -->
   <meta name="description" content="小说网站，中文网站">
   <!-- 搜索关键字 -->
   <meta name="keywords" content="小说,,vsbook,哪个小说网站比较好,读书,学习">
   <!--  防止别人在框架里调用页面 -->
   <meta http-equiv="Window-target" content="_top">
  <title>Gimini</title>
  <link rel="stylesheet" href="./css/common.css">
  <link rel="stylesheet" href="./css/index.css">
  <link rel="stylesheet" href="./css/banner.css">
</head>
<body>
<!-- 头 -->
<header id="header"></header>
<!-- 主题内容 -->
<main id="main">
   <!-- 标签页  -->
   <div class="tabs">
     <!-- 标签 -->
     <ul id="tab">
       <li class="active">
         <a href="javascript:;" data-toggle="tab" data-id="content1">Gemini</a>
       </li>
       <li>
         <a href="javascript:;" data-toggle="tab" data-id="content2">星际商城</a>
       </li>
       <li>
         <a href="javascript:;" data-toggle="tab" data-id="content3">星际购物车</a>
       </li> 
      <!--
      <li><a href="javascript:;" data-toggle="tab" data-id="content4"></a></li> 
      <li><a href="javascript:;" data-toggle="tab" data-id="content5"></a> </li>  
      -->
     </ul>
     <!-- 内容 -->
     <div id="content">
        <!-- content1 -->
        <div id="content1" style="z-index:1;">
         <!-- 按钮 换背景颜色 -->
          <div id="cont1btn">
            <button class="cont1btn1"></button>
            <button class="cont1btn2"></button>
            <button class="cont1btn3"></button>
            <button class="cont1btn4"></button>
            <button class="cont1btn5"></button>
            <button class="cont1btn6" title="随机"></button>
          </div>
         <!-- 战机 -->
          <div id="cont1plane">
              <div id="planechose">
                   <h2>战机系列产品</h2>
                   <img src="./img/index/plane/p3.png">
              </div> 
              <div id="planelist">
                <img src="./img/index/plane/p3.png">
                <img src="./img/index/plane/p4.png">
                <img src="./img/index/plane/p5.png">    
              </div>
          </div>     
         <!-- 轮播图 -->  
         <div id="banner">    
           <div id="btn-left">&lt;</div>        
           <!-- 图片 -->
           <ul id="ul-imgs" class="transition" style="width:1525px;margin-left:0px;">
             <li class="li_list">
               <a href="javascript:;"><img src="./img/index/banner/banner1.jpg"></a>             
             </li>
             <li class="li_list">
              <a href="javascript:;"><img src="./img/index/banner/banner2.jpg"></a>             
            </li>
            <li class="li_list">
               <a href="javascript:;"><img src="./img/index/banner/banner3.jpg"></a>     
            </li>
            <li class="li_list">
              <a href="javascript:;"><img src="./img/index/banner/banner4.jpg"></a>             
            </li>
             <!--注意！最后li个数要比实际图片张数多1，最后一个li里的img是重复第一张li的图片-->
            <li class="li_list">
              <a href="javascript:;"><img src="./img/index/banner/banner1.jpg"></a>             
            </li> 
           </ul>

           <!-- 轮播图显示器 -->
           <div id="ul-idxs">
             <!--虽然li个数比实际图片张数多1，但小圆点的个数不必多1-->
             <li class="active"></li>
             <li></li>
             <li></li>
             <li></li>
           </div>

           <div id="btn-right">&gt;</div>
         </div>
         <!-- 右 星介绍 -->
         <div id="content1txt">
              <div class="cont1title">
                <p>Gimini</p>
              </div>
              <div class="cont1font">
                <p class="pti">Gimini位于银河系第3太阳系双子星双子星城之中,主要经营星际贸易-星球交易、星际媒体、超武器等产业，星际微开发、星空超微虫洞、宇宙层叠等技术，公司下有千万余优良行星，彗星，古星及多种星系星球，价格实惠，童叟无欺，买的多，豪礼送得多。
                </p>
                <p class="pti">Gimini的来源，源自双子神双双，白手起家，经过三百年创下了无可匹敌的双子星帝国，期间，星际战争不下十余次，被毁灭的星球不计其数。
                </p>
                <p class="pti">Gimini的初衷，致力于全宇宙的和平与发展，让爱与和平照耀到每一个星系。
                  </p>
              </div>  
         </div>
        </div>
        <!-- content2 -->
        <div id="content2">
          <!-- 树形导航 -->
          <div id="cont2top">
            <div id="cont2top1">星际商城</div>
            <div id="cont2top2">&lt;&lt;</div>
            <div id="cont2top3">所有商品</div>
          </div>
          <!-- 商品列表 -->
          <div id="productlist">

            <div class="productlist topleft"> 
              <button class="shopcar">加入购物车</button>
              <h3 class="title">卫星01 </h3>
              <h5 class="subtitle"><a href="javascript:;">银河东方天河行星</a></h5>
              <img src="./img/index/shop/shop1.jpg" class="shopimg">             
              <span class="price">￥99999.00</span>
              <a href="details.html?lid=1" class="lookdetails">查看详情</a>
            </div>

            <div class="productlist topright"> 
                <button class="shopcar">加入购物车</button>
                <h3 class="title">行星02</h3>
                <h5 class="subtitle"><a href="javascript:;">银河太阳星域水地星</a></h5>
                <img src="./img/index/shop/shop2.jpg" class="shopimg">             
                <span class="price">￥99999.00</span>
                <a href="#details?lid=1" class="lookdetails">查看详情</a>
             </div>
 
            <div class="productlist bottomleft"> 
                  <button class="shopcar">加入购物车</button>
                  <h3 class="title">卫星03</h3>
                  <h5 class="subtitle"><a href="javascript:;">银河太阳星域灰饵星</a></h5>
                  <img src="./img/index/shop/shop3.jpg" class="shopimg">             
                  <span class="price">￥99999.00</span>
                  <a href="#details?lid=1" class="lookdetails">查看详情</a>
            </div> 

            <div class="productlist bottomright"> 
                <button class="shopcar">加入购物车</button>
                <h3 class="title">行星04</h3>
                <h5 class="subtitle"><a href="javascript:;">银河太阳星域晶蓝星</a></h5>
                <img src="./img/index/shop/shop4.jpg" class="shopimg">             
                <span class="price">￥99999.00</span>
                <a href="#details?lid=1" class="lookdetails">查看详情</a>
            </div>
          </div>

        </div>

        <div id="content3">
          <!-- 购物车 -->
          <div id="cont3car">
             <h3>购物车</h3>
             <table id="datacar">
                <thead>
                  <tr>
                    <th><input type="checkbox"/>全选</th>
                    <th>商品名称</th>
                    <th>单价</th>
                    <th>数量</th>
                    <th>小计</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><input type="checkbox"/></td>
                     <td><img src="./img/index/shop/shop1.jpg" style="width: 15px">河东方天河行星</td>
                     <td>￥99999.00</td>
                     <td>
                       <button>-</button>
                       <span>1</span>
                       <button>+</button>
                     </td>
                     <td>￥99999.00</td>
                  </tr>
                  <tr>
                    <td><input type="checkbox"/></td>
                    <td><img src="./img/index/shop/shop4.jpg" style="width: 15px">银河太阳星域晶蓝星</td>
                    <td>￥99999.00</td>
                    <td>
                      <button>-</button>
                      <span>1</span>
                      <button>+</button>
                    </td>
                    <td>￥99999.00</td>
                 </tr>
                 <!-- <tr>
                  <td>商品三</td>
                  <td>￥3000.00</td>
                  <td>
                    <button>-</button>
                    <span>1</span>
                    <button>+</button>
                  </td>
                  <td>￥3000.00</td>
               </tr> -->
                </tbody>
                <tfoot>
                  <tr> 
                    <td colspan="4">总价：</td>
                    <td>￥199998.00</td>
                  </tr>
                </tfoot>
              </table>
          </div>
        </div>
        <!-- 
        <div id="content4"></div>
        <div id="content5"></div> 
        -->
     </div>
   </div>

</main>

<!-- 侧边栏 -->
<div id="sidebar">
  <a href="#"> <div class="sidediv1"></div>
     <p>客服</p>
  </a>
  <a href="#"> <div class="sidediv2"></div>
     <p>新闻</p>
  </a>
  <a href="#"> <div class="sidediv3"></div>
     <p>商城</p>  
  </a>
  <a href="#"> <div class="sidediv4"></div>
    <p>购物车</p>
  </a>
  <a href="#"> <div class="sidediv5"></div>
    <p>返回顶部</p>
  </a>
</div>



<!-- 脚 -->
<footer></footer>
  <script src="./js/jquery-1.11.3.js"></script>
  <!-- <script src="./js/jquery-3.2.1.js"></script> -->
  <script src="js/index.js"></script> 
  <script src="js/headfoot.js"></script>
  <script src="./js/banner.js"></script>
  <script>
//做所有DOM操作的4步
//1. 先找到触发事件的所有元素
//2. 为元素绑定事件处理函数
//3. 查找要修改的元素
//4. 修改元素
//1. 先找到触发事件的元素: table中的所有button
//--先找到id为data的table
var table=document.getElementById("datacar")
//--再在table内找button元素
var btns=table.getElementsByTagName("button");
   //console.log(table);
   //console.log(btns);

//2. 为每个button绑定单击事件处理函数   
//--遍历类数组对象btns中每个按钮
for (var btn of btns){
//--每遍历一个按钮，就为其绑定单击事件处理函数
  btn.onclick=function(){
    //所有事件处理函数中的this，永远指.前的当前元素对象
    var btn=this;
    //3. 查找要修改的元素
    //--查找按钮的父元素下的第二个子元素
    var span=btn.parentNode.children[1];
   	//4. 修改元素
		//--获得span的内容n，转为整数
    //强调: 凡是从页面上获得的，都是字符串。做算术计算前必须先转为数字，再计算。 
    var n=parseInt(span.innerHTML);
    //--如果btn的内容是+
    if(btn.innerHTML=="+"){
      n++; //n就+1
    }else if(n>1){
      n--; //--否则如果n的内容>1，才能-1
    }
    //--最后将修改后的n，放回span
    span.innerHTML=n;

    /*计算小计*/
    //先获得btn的父元素td
    var td=btn.parentNode;
    //单价=td的前一个兄弟元素的内容，去掉¥，转为小数
    var price=parseFloat(
      td.previousElementSibling.innerHTML.slice(1)
    );
    //小计=单价*数量n
    var subTotal=price*n;
    //将小计放入td的下一个兄弟的内容中，前加¥，保留两位小数
    td.nextElementSibling.innerHTML=`￥${subTotal.toFixed(2)}`

	  /*计算总计*/
		//--查找tbody下每行最后一个td
		var tds=
			table.querySelectorAll(
				"tbody td:last-child"
			);
		var total=0;
		//--遍历tds中每个td
		for(var td of tds){
			total+=parseFloat(
				td.innerHTML.slice(1)
			);
		}
		//--将total放入tfoot下最后一个td中
		table.querySelector(
			"tfoot td:last-child"
		).innerHTML=`¥${total.toFixed(2)}`;

  }
}//外部的btn指向最后一个btn

/*点上边的全选，操作下边的所有checkbox*/
//DOM 4步:
//1. 查找触发事件的元素
//--查找table下的thead下的唯一的input
var chbAll=document.querySelector( "table>thead input" );
//--查找table下tbody下的所有input
var chbs=document.querySelectorAll(	"table>tbody input" );
//2. 绑定事件处理函数
chbAll.onclick=function(){
	var chbAll=this;//获得当前单击的chbAll
	//3. 查找要修改的元素
	//--直接使用外部查找过的chbs
	//4. 修改元素
	//--遍历chbs中每个chb  //每遍历一个chb就让他的checked属性和chbAll的checked保持一致
	for(var chb of chbs){ chb.checked=chbAll.checked;}
}
/*点下边的每个chb，都可能影响上边的chb*/
//DOM 4步:
//1. 查找触发事件的元素
//--前边已经找过chbs了,可直接使用
//2. 绑定事件处理函数
//--遍历chbs中每个chb
for(var chb of chbs){
	//--每遍历一个chb就绑定单击事件
	chb.onclick=function(){
		//3. 查找要修改的元素
		//--已经找过chbAll了,可直接使用
		//4. 修改元素
		//先获得当前chb
		var chb=this;
		//如果当前chb取消选中
		if(chb.checked==false){
			//则chbAll一定不全选
			chbAll.checked=false;
		}else{
			//先查找tbody下一个未选中的input
			var unchecked=
				document.querySelector( "table>tbody input:not(:checked)"	)
			//找不到未选中的chb了
			if(unchecked==null){
				//才全选
				chbAll.checked=true;
			}
		}
	}
}

  </script>
</body>
</html>